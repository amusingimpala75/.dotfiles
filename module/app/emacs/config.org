#+PROPERTY: header-args:emacs-lisp :tangle yes

* My Emacs Configuration

Lexical Bindings, and ensure we can use :bind:
#+begin_src emacs-lisp
;;; -*- lexical-binding: t -*-
(require 'bind-key)
#+end_src

** UI

I really don't want the scroll bar or the tool bar, nor is the startup screen necessary
#+begin_src emacs-lisp
(use-package scroll-bar
  :custom (scroll-bar-mode nil))
(use-package tool-bar
  :custom (tool-bar-mode nil))
(setq initial-buffer-choice t)
#+end_src

I also like a transparent background (still waiting on alpha-background on mac)
#+begin_src emacs-lisp
(defvar my/alpha-setting (if (eq system-type 'darwin) '(alpha . 85) '(alpha-background . 70)))
(use-package frame
  :custom
  (default-frame-alist `(,my/alpha-setting
                         (ns-transparent-titlebar . t))))
#+end_src
*** Theme
I use base16-based themes in Nix, which is automatically generated from user preferences
#+begin_src emacs-lisp
(use-package my-base16-theme
  :demand
  :custom (base16-theme-256-color-source 'colors)
  :config
  (load-theme 'my-base16 t))
#+end_src

*** Font
I use the Iosevka font, at 16-pt.
#+begin_src emacs-lisp
(defvar my/font-size 16)
(use-package cus-face
  :custom-face
  (default ((t (:family "Iosevka" :height ,(* my/font-size 10)))))
  (variable-pitch ((t (:family "Iosevka Aile"))))
  (fixed-pitch ((t (:family "Iosevka")))))
#+end_src

I also like to make it easy to modify the font size, bound to `C--` and `C-=`
#+begin_src emacs-lisp
(use-package face-remap
  :bind
  ("C--" . text-scale-decrease)
  ("C-=" . text-scale-increase))
#+end_src

** Org Mode
#+begin_src emacs-lisp
(use-package org
  :hook
   (org-mode . variable-pitch-mode)
   (org-mode . visual-line-mode)
  :custom-face
  (org-block ((t (:inherit fixed-pitch))))
  (org-code ((t (:inherit (shadow fixed-pitch)))))
  (org-level-1 ((t (:weight bold :height 1.5))))
  (org-level-2 ((t (:weight bold :height 1.4))))
  (org-level-3 ((t (:weight bold :height 1.3))))
  (org-level-4 ((t (:weight bold :height 1.2))))
  (org-level-5 ((t (:weight bold :height 1.1))))
  (org-level-6 ((t (:weight bold))))
  (org-level-7 ((t (:weight bold))))
  (org-level-8 ((t (:weight bold))))
  :custom
  (org-src-fontify-natively t)
  (org-src-preserve-indentation t)
  :config
  (add-to-list 'org-modules 'org-tempo))
#+end_src

** Miscellaneous
Remove the annoying files Emacs dumps all over the system
#+begin_src emacs-lisp
(use-package files
  :custom
  (backup-directory-alist `(("." . ,(concat user-emacs-directory "backups"))))
  (create-lockfiles nil))
#+end_src
